defaults:
  - _self_
  - network: default

s3_bucket: ???
s3_prefix: !!null

metadata_ttl: "indefinite"

# Maximum number of FUSE threads for Mountpoint. Passed as `--max-threads` argument.
fuse_threads: !!null

# Number of processes that will be interacting with the file.
application_workers: 4

direct_io: false

# To be used by other configurations to vary number of interfaces used
available_network_interfaces:
  - interface_name: ???

fio_benchmarks: sequential_read  #, random_read, sequential_write

# default
fio_benchmark: "sequential_read"

mountpoint_binary: "../target/release/mount-s3"
mountpoint_debug: false
mountpoint_debug_crt: false

# Adds prompt to continue, to allow time to manually attach profiler.
wait_for_profiler_attach: false

# Record perf profiling of all CPUs for the duration of each FIO run
with_perf: false

stub_reading_mode: off # fuse, s3_client

# Hack that turns off crc32c
stub_crc32c: false

# Override prefetcher window size
mp_prefetcher_window_size: !!null

# For S3 implementations not supporting additional checksums. Passed as `--upload-checksums` argument.
upload_checksums: !!null

iterations: 1
iteration: 0 # placeholder; use iterations to configure for multirun

hydra:
  help:
    app_name: "Mountpoint sequential read experiment runner"
  mode: MULTIRUN
  job:
    chdir: true
  sweeper:
    params:
      fuse_threads: 16, 32, 64, 128
      application_workers: 1, 4, 8, 16, 32, 64, 128, 256
      direct_io: false, true
      fio_benchmark: "${fio_benchmarks}"
      iteration: "range(${iterations})"
